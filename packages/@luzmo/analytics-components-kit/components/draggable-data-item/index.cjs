/*! * A kit of modern Luzmo Web Components for analytics in your web application.
 * 
 * Copyright © 2025 Luzmo
 * All rights reserved.
 * Luzmo web components (“Luzmo Web Components”)
 * must be used according to the Luzmo Terms of Service.
 * This license allows users with a current active Luzmo account
 * to use the Luzmo Web Components. This license terminates
 * automatically if a user no longer has an active Luzmo account.
 * Please view the Luzmo Terms of Service at: https://www.luzmo.com/information-pages/terms-of-use.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * */
"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=require("../get-css-variable-CGmd_tgb.cjs"),U=require("../periods.const-DkUSjl1v.cjs"),V=require("../localize-r7ALOUy_.cjs"),q=":host{font-family:var(--luzmo-draggable-data-item-level-font-family, var(--luzmo-font-family));color:var(--luzmo-draggable-data-item-level-font-color, var(--draggable-data-item-level-font-color))}.draggable-data-item-level{transition:background-color var(--luzmo-animation-duration);background-color:var(--luzmo-draggable-data-item-level-background-color, var(--draggable-data-item-level-background-color));display:flex;justify-content:space-between;align-items:center;padding:0 var(--luzmo-draggable-data-item-level-horizontal-padding, var(--draggable-data-item-level-horizontal-padding));gap:var(--luzmo-draggable-data-item-level-gap, var(--draggable-data-item-level-gap));border-radius:var(--luzmo-draggable-data-item-level-border-radius, var(--draggable-data-item-level-border-radius));border-width:var(--luzmo-draggable-data-item-level-border-width, var(--draggable-data-item-level-border-width));border-style:var(--luzmo-draggable-data-item-level-border-style, var(--draggable-data-item-level-border-style));border-color:var(--luzmo-draggable-data-item-level-border-color, var(--draggable-data-item-level-border-color));height:var(--luzmo-draggable-data-item-level-height, var(--draggable-data-item-level-height));cursor:move}.draggable-data-item-level:hover{background-color:var(--luzmo-draggable-data-item-level-background-color-hover, var(--draggable-data-item-level-background-color-hover))}.draggable-data-item-level .data-label{font-size:var(--luzmo-draggable-data-item-level-label-font-size, var(--draggable-data-item-level-label-font-size));white-space:nowrap;overflow:hidden;text-overflow:ellipsis}:host([sublevel]) .draggable-data-item-level{height:var(--luzmo-draggable-data-item-level-sublevel-height, var(--draggable-data-item-level-sublevel-height));background-color:var(--luzmo-draggable-data-item-level-sublevel-background-color, var(--draggable-data-item-level-sublevel-background-color));border-color:var(--luzmo-draggable-data-item-level-sublevel-border-color, var(--draggable-data-item-level-sublevel-border-color));margin-inline-start:var(--luzmo-draggable-data-item-level-sublevel-margin-inline-start, var(--draggable-data-item-level-sublevel-margin-inline-start))}:host([sublevel]) .draggable-data-item-level:hover{background-color:var(--luzmo-draggable-data-item-level-sublevel-background-color-hover, var(--draggable-data-item-level-sublevel-background-color-hover))}:host([sublevel]) .draggable-data-item-level .drag-handle-icon{width:var(--luzmo-draggable-data-item-level-sublevel-drag-handle-width, var(--draggable-data-item-level-sublevel-drag-handle-width));text-align:center}:host([disabled]) .draggable-data-item-level{background-color:var(--luzmo-draggable-data-item-level-background-color-disabled, var(--draggable-data-item-level-background-color-disabled));color:var(--luzmo-draggable-data-item-level-color-disabled, var(--draggable-data-item-level-color-disabled));cursor:not-allowed}:host([disabled]) .drag-handle-icon{opacity:.25}:host([sublevel][disabled]) .draggable-data-item-level{background-color:var(--luzmo-draggable-data-item-level-sublevel-background-color-disabled, var(--draggable-data-item-level-sublevel-background-color-disabled))}.drag-handle-icon{opacity:.6;font-size:var(--luzmo-draggable-data-item-level-drag-handle-size, var(--luzmo-draggable-data-item-level-drag-handle-size));width:var(--luzmo-draggable-data-item-level-drag-handle-width, var(--luzmo-draggable-data-item-level-drag-handle-width));text-align:center}.data-icon-type{width:var(--luzmo-draggable-data-item-level-data-icon-width, var(--luzmo-draggable-data-item-level-data-icon-width));text-align:center}.data-label{flex-grow:1}.data-description{height:100%;display:flex;align-items:center;background-color:transparent;outline:none;border:none;font-size:var(--luzmo-draggable-data-item-level-label-font-size, var(--draggable-data-item-level-label-font-size))}:host([variant=highlight]){--draggable-data-item-level-background-color: var( --luzmo-background-color-highlight );--draggable-data-item-level-border-color: var( --luzmo-background-color-highlight );--draggable-data-item-level-background-color-hover: var( --luzmo-background-color-highlight-hover )}:host{--draggable-data-item-level-height: var(--luzmo-component-height);--draggable-data-item-level-label-font-size: var(--luzmo-font-size);--draggable-data-item-level-icon-type-size: var(--luzmo-font-size);--draggable-data-item-level-horizontal-padding: var(--luzmo-spacing-5);--draggable-data-item-level-border-width: var(--luzmo-border-width);--draggable-data-item-level-border-style: solid;--draggable-data-item-level-border-color: var(--luzmo-border-color-hover);--draggable-data-item-level-border-radius: var(--luzmo-border-radius);--draggable-data-item-level-gap: var(--luzmo-spacing-4);--draggable-data-item-level-font-color: var(--luzmo-font-color);--draggable-data-item-level-color-disabled: var(--luzmo-color-disabled);--draggable-data-item-level-background-color-disabled: var( --luzmo-background-color-disabled );--luzmo-draggable-data-item-level-drag-handle-size: var(--luzmo-font-size-s);--luzmo-draggable-data-item-level-drag-handle-width: var( --draggable-data-item-level-icon-type-size );--luzmo-draggable-data-item-level-data-icon-width: calc( var(--draggable-data-item-level-icon-type-size) + var(--luzmo-spacing-3) );--draggable-data-item-level-sublevel-height: var(--luzmo-component-height-s);--draggable-data-item-level-sublevel-border-color: transparent;--draggable-data-item-level-sublevel-background-color: transparent;--draggable-data-item-level-sublevel-background-color-disabled: transparent;--draggable-data-item-level-sublevel-margin-inline-start: calc( var(--draggable-data-item-level-gap) + var(--luzmo-draggable-data-item-level-drag-handle-width) );--luzmo-draggable-data-item-level-sublevel-drag-handle-width: var( --luzmo-draggable-data-item-level-data-icon-width );--draggable-data-item-level-sublevel-background-color-hover: rgba( var(--luzmo-border-color-rgb), .05 )}:host([hide-type-icon]){--draggable-data-item-level-sublevel-margin-inline-start: var( --draggable-data-item-level-gap )}:host([size=s]){--draggable-data-item-level-height: var(--luzmo-component-height-s);--draggable-data-item-level-label-font-size: var(--luzmo-font-size-s);--draggable-data-item-level-icon-type-size: var(--luzmo-font-size-s);--draggable-data-item-level-horizontal-padding: var(--luzmo-spacing-4);--draggable-data-item-level-border-radius: var(--luzmo-border-radius);--draggable-data-item-level-gap: var(--luzmo-spacing-3);--draggable-data-item-level-sublevel-height: var(--luzmo-component-height-xs);--luzmo-draggable-data-item-level-drag-handle-size: var(--luzmo-font-size-xs)}:host([size=l]){--draggable-data-item-level-height: var(--luzmo-component-height-l);--draggable-data-item-level-label-font-size: var(--luzmo-font-size-l);--draggable-data-item-level-icon-type-size: var(--luzmo-font-size-l);--draggable-data-item-level-horizontal-padding: var(--luzmo-spacing-5);--draggable-data-item-level-border-radius: var(--luzmo-border-radius-l);--draggable-data-item-level-gap: var(--luzmo-spacing-5);--draggable-data-item-level-sublevel-height: var(--luzmo-component-height);--luzmo-draggable-data-item-level-drag-handle-size: var(--luzmo-font-size)}:host([size=xl]){--draggable-data-item-level-height: var(--luzmo-component-height-xl);--draggable-data-item-level-label-font-size: var(--luzmo-font-size-xl);--draggable-data-item-level-icon-type-size: var(--luzmo-font-size-xl);--draggable-data-item-level-horizontal-padding: var(--luzmo-spacing-5);--draggable-data-item-level-border-radius: var(--luzmo-border-radius-xl);--draggable-data-item-level-gap: var(--luzmo-spacing-5);--draggable-data-item-level-sublevel-height: var(--luzmo-component-height-l);--luzmo-draggable-data-item-level-drag-handle-size: var(--luzmo-font-size-l)}:host{box-sizing:border-box}",n={array:{s:e.D0,m:e.w0,l:e.x0,xl:e.x0},coordinates:{s:e.A0,m:e.Z0,l:e.u0,xl:e.u0},currency:{s:e.V0,m:e.H0,l:e.p0,xl:e.p0},date:{s:e.a0,m:e.o0,l:e.t$1,xl:e.t$1},datetime:{s:e.n0,m:e.z0,l:e.l0,xl:e.l0},duration:{s:e.k0,m:e.S0,l:e.f0,xl:e.f0},hierarchy:{s:e.E0,m:e.P0,l:e.U0,xl:e.U0},image:{s:e.O0,m:e.Q0,l:e.N0,xl:e.N0},numeric:{s:e.X0,m:e.Y0,l:e._0,xl:e._0},time:{s:e.M2,m:e.L2,l:e.r2,xl:e.r2},topography:{s:e.W1,m:e.W1,l:e.W1,xl:e.W1},ipaddress:{s:e.x2,m:e.B2,l:e.F2,xl:e.F2}},P=(l,a)=>(a==null?void 0:a.type)==="array"?n.array[l]:(a==null?void 0:a.type)==="image"?n.image[l]:(a==null?void 0:a.type)==="spatial"?(a==null?void 0:a.subtype)==="topography"?n.topography[l]:n.coordinates[l]:(a==null?void 0:a.type)==="numeric"?(a==null?void 0:a.subtype)==="currency"?n.currency[l]:(a==null?void 0:a.subtype)==="duration"?n.duration[l]:n.numeric[l]:(a==null?void 0:a.type)==="datetime"?(a==null?void 0:a.subtype)==="time"?n.time[l]:(a==null?void 0:a.subtype)==="date"?n.date[l]:n.datetime[l]:(a==null?void 0:a.type)==="hierarchy"&&(a==null?void 0:a.subtype)==="ipaddress"?n.ipaddress[l]:n.hierarchy[l],F=l=>{var b,m,h,p,f,x,D,w,$,k,S,I,L,_,C,O,E;const a=l.source.element;let t="";(p=(h=(m=(b=l.source)==null?void 0:b.element)==null?void 0:m.renderRoot)==null?void 0:h.querySelector(".data-label"))!=null&&p.textContent&&(t=(D=(x=(f=l.source)==null?void 0:f.element)==null?void 0:x.renderRoot)==null?void 0:D.querySelector(".data-label").textContent),t||(t=V.localize(($=(w=l==null?void 0:l.source)==null?void 0:w.data)==null?void 0:$.label,(S=(k=l==null?void 0:l.source)==null?void 0:k.element)==null?void 0:S.language),t=t||"Untitled");const g=(L=(I=l==null?void 0:l.source)==null?void 0:I.data)==null?void 0:L.type,r=(C=(_=l==null?void 0:l.source)==null?void 0:_.data)==null?void 0:C.subtype,o=P(a.size,{type:g,subtype:r}),i={};[["borderColor","--luzmo-draggable-data-item-level-border-color","--draggable-data-item-level-border-color"],["backgroundColor","--luzmo-draggable-data-item-level-background-color","--draggable-data-item-level-background-color"],["color","--luzmo-draggable-data-item-level-font-color","--draggable-data-item-level-font-color"],["fontSize","--luzmo-draggable-data-item-level-label-font-size","--draggable-data-item-level-label-font-size"],["height","--luzmo-draggable-data-item-level-height","--draggable-data-item-level-height"],["borderRadius","--luzmo-draggable-data-item-level-border-radius","--draggable-data-item-level-border-radius"],["fontFamily","--luzmo-draggable-data-item-level-font-family","--luzmo-font-family"],["horizontalPadding","--luzmo-draggable-data-item-level-horizontal-padding","--draggable-data-item-level-horizontal-padding"],["gap","--luzmo-draggable-data-item-level-gap","--draggable-data-item-level-gap"]].forEach(([z,T,j])=>{const B=e.getCssVariableValue(a,T)||e.getCssVariableValue(a,j);i[z]=B});const u=document.createElement("div"),d=document.createElement("div");if(u.innerHTML=t,!((E=(O=l==null?void 0:l.source)==null?void 0:O.element)!=null&&E.sublevel)){const z=document.createElement("luzmo-icon");z.icon=o,d.append(z)}return d.append(u),Object.assign(d.style,{display:"flex",alignItems:"center",height:i.height,border:`1px solid ${i.borderColor}`,backgroundColor:i.backgroundColor,borderRadius:i.borderRadius,fontFamily:i.fontFamily,fontSize:i.fontSize,color:i.color,padding:`0 ${i.horizontalPadding}`,gap:i.gap}),d};var R=Object.defineProperty,c=(l,a,t,g)=>{for(var r=void 0,o=l.length-1,i;o>=0;o--)(i=l[o])&&(r=i(a,t,r)||r);return r&&R(a,t,r),r};const y=class y extends e.m(e.kt,{validSizes:["s","m","l","xl"],noDefaultSize:!0}){constructor(){super(...arguments),this.language="en",this.data={},this.dataItemLevelDropped=a=>{this.dispatchEvent(new CustomEvent("data-item-dropped",{bubbles:!0,composed:!0,cancelable:!0,detail:{data:a}}))}}disconnectedCallback(){super.disconnectedCallback(),this._cleanupDraggable()}firstUpdated(a){this._cleanupDraggable=e.draggable({element:this,canDrag:()=>!this.disabled,onDragStart:()=>{this.style.opacity="0.5"},onDrop:()=>{this.style.opacity="1",this.dataItemLevelDropped(this.data)},getInitialData:()=>{const t={...this.data};return this.label&&this.language&&!this.sublevel&&(t.label={},t.label[this.language]=this.label),this.description&&this.language&&(t.description={},t.description[this.language]=this.description),t},onGenerateDragPreview:t=>{const g=t.nativeSetDragImage;e.setCustomNativeDragPreview({render({container:r}){const o=F(t);r.append(o)},nativeSetDragImage:g})}})}render(){var g,r,o,i,u,d,b,m,h,p;const a=this.label??((r=(g=this.data)==null?void 0:g.label)==null?void 0:r[this.language])??((u=(o=this.data)==null?void 0:o.label)==null?void 0:u[Object.keys((i=this.data)==null?void 0:i.label)[0]])??"Untitled",t=this.description??((b=(d=this.data)==null?void 0:d.description)==null?void 0:b[this.language])??((p=(m=this.data)==null?void 0:m.description)==null?void 0:p[Object.keys((h=this.data)==null?void 0:h.description)[0]]);return e.x`
      <div class="draggable-data-item-level">
        <div class="drag-handle-icon">
          ${this.sublevel?e.O2(e.b0):e.O2(e.W)}
        </div>
        ${this.sublevel||this.hideTypeIcon?"":e.x`<div class="data-icon-type">
              ${e.O2(P(this.size,this.data))}
            </div>`}
        <div class="data-label">${a}</div>
        ${t?e.x`<button class="data-description">
              ${e.O2(e.p1)}
              <luzmo-tooltip self-managed placement="top" size=${this.size}>
                ${t}
              </luzmo-tooltip>
            </button>`:""}
      </div>
    `}};y.styles=e.r(q);let s=y;c([e.n({type:String,reflect:!0})],s.prototype,"variant");c([e.n({type:Boolean,reflect:!0,attribute:"hide-type-icon"})],s.prototype,"hideTypeIcon");c([e.n({type:Boolean,reflect:!0})],s.prototype,"sublevel");c([e.n({type:String,reflect:!0})],s.prototype,"language");c([e.n({type:Boolean,reflect:!0})],s.prototype,"disabled");c([e.n({type:String,reflect:!0})],s.prototype,"label");c([e.n({type:String,reflect:!0})],s.prototype,"description");c([e.n({type:Object})],s.prototype,"data");customElements.get("luzmo-draggable-data-item-level")||customElements.define("luzmo-draggable-data-item-level",s);const W=":host{--draggable-data-item-sublevels-margin-vertical: var(--luzmo-spacing-1);--draggable-data-item-sublevels-gap: 0}:host([size=s]){--draggable-data-item-sublevels-margin-vertical: var(--luzmo-spacing-1)}:host([size=l]){--draggable-data-item-sublevels-margin-vertical: var(--luzmo-spacing-2)}:host([size=xl]){--draggable-data-item-sublevels-margin-vertical: var(--luzmo-spacing-3)}.draggable-data-item-sublevels{display:flex;flex-direction:column;gap:var(--luzmo-draggable-data-item-sublevels-gap, var(--draggable-data-item-sublevels-gap));margin:var(--luzmo-draggable-data-item-sublevels-margin-vertical, var(--draggable-data-item-sublevels-margin-vertical)) 0}:host{box-sizing:border-box}";var M=Object.defineProperty,A=Object.getOwnPropertyDescriptor,v=(l,a,t,g)=>{for(var r=g>1?void 0:g?A(a,t):a,o=l.length-1,i;o>=0;o--)(i=l[o])&&(r=(g?i(a,t,r):i(r))||r);return g&&r&&M(a,t,r),r};exports.LuzmoDraggableDataItem=class extends e.m(e.kt,{validSizes:["s","m","l","xl"],noDefaultSize:!0}){constructor(){super(...arguments),this.language="en",this.data={}}willUpdate(a){a.has("language")&&([...e.targetLocales].includes(this.language)||this.language==="en")&&(e.setLocale(this.language),this.requestUpdate())}renderSublevels(){var t,g,r,o,i;let a;if(((t=this.data)==null?void 0:t.type)==="datetime")return a=((g=this.data)==null?void 0:g.subtype)==="date"?this.data.lowestLevel??5:this.data.lowestLevel??9,e.x`
        <div class="draggable-data-item-sublevels">
          ${Array.from({length:a},(u,d)=>{const b=U.DATETIME_LEVELS[d].i18n(),m={...this.data,level:d+1};return e.x`<luzmo-draggable-data-item-level
              sublevel
              .data=${m}
              .language=${this.language}
              .size=${this.size}
              .variant=${this.variant}
              .disabled=${this.disabled}
              .label=${b}
              ?hide-type-icon=${this.hideTypeIcon}
            ></luzmo-draggable-data-item-level>`})}
        </div>
      `;if(((r=this.data)==null?void 0:r.type)==="hierarchy"&&((i=(o=this.data)==null?void 0:o.hierarchyLevels)==null?void 0:i.length)>2){const u=this.data.hierarchyLevels.filter(d=>(d==null?void 0:d.level)>=1).map((d,b)=>{const m={...this.data,level:b,label:d.label};return e.x`<luzmo-draggable-data-item-level
            sublevel
            .data=${m}
            .language=${this.language}
            .size=${this.size}
            .variant=${this.variant}
            .disabled=${this.disabled}
            ?hide-type-icon=${this.hideTypeIcon}
          ></luzmo-draggable-data-item-level>`});return e.x`
        <div class="draggable-data-item-sublevels">${u}</div>
      `}return e.x``}render(){return e.x`
      <luzmo-draggable-data-item-level
        .data=${this.data}
        .language=${this.language}
        .size=${this.size}
        .variant=${this.variant}
        .disabled=${this.disabled}
        .label=${this.label}
        .description=${this.description}
        ?hide-type-icon=${this.hideTypeIcon}
      ></luzmo-draggable-data-item-level>
      ${this.hideSublevels?"":this.renderSublevels()}
    `}};exports.LuzmoDraggableDataItem.styles=e.r(W);v([e.n({type:String,reflect:!0})],exports.LuzmoDraggableDataItem.prototype,"variant",2);v([e.n({type:String,reflect:!0})],exports.LuzmoDraggableDataItem.prototype,"language",2);v([e.n({type:Boolean,reflect:!0})],exports.LuzmoDraggableDataItem.prototype,"disabled",2);v([e.n({type:Boolean,reflect:!0,attribute:"hide-sublevels"})],exports.LuzmoDraggableDataItem.prototype,"hideSublevels",2);v([e.n({type:Boolean,reflect:!0,attribute:"hide-type-icon"})],exports.LuzmoDraggableDataItem.prototype,"hideTypeIcon",2);v([e.n({type:String,reflect:!0})],exports.LuzmoDraggableDataItem.prototype,"label",2);v([e.n({type:String,reflect:!0})],exports.LuzmoDraggableDataItem.prototype,"description",2);v([e.n({type:Object})],exports.LuzmoDraggableDataItem.prototype,"data",2);exports.LuzmoDraggableDataItem=v([e.localized()],exports.LuzmoDraggableDataItem);customElements.get("luzmo-draggable-data-item")||customElements.define("luzmo-draggable-data-item",exports.LuzmoDraggableDataItem);
